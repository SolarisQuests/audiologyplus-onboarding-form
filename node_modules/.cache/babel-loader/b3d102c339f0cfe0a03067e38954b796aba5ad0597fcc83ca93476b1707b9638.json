{"ast":null,"code":"/**\n * Module dependencies.\n */\n\nvar crypto = require('crypto');\nvar Readable = require('readable-stream');\n;\nvar dataUriToBuffer = require('data-uri-to-buffer');\nvar NotModifiedError = require('./notmodified');\nvar debug = require('debug')('get-uri:data');\n\n/**\n * Module exports.\n */\n\nmodule.exports = get;\n\n/**\n * Returns a Readable stream from a \"data:\" URI.\n *\n * @api protected\n */\n\nfunction get(parsed, opts, fn) {\n  var uri = parsed.href;\n  var cache = opts.cache;\n\n  // need to create a SHA1 hash of the URI string, for cacheability checks\n  // in future `getUri()` calls with the same data URI passed in.\n  var shasum = crypto.createHash('sha1');\n  shasum.update(uri);\n  var hash = shasum.digest('hex');\n  debug('generated SHA1 hash for \"data:\" URI: %o', hash);\n\n  // check if the cache is the same \"data:\" URI that was previously passed in.\n  if (cache && cache.hash == hash) {\n    debug('got matching cache SHA1 hash: %o', hash);\n    fn(new NotModifiedError());\n  } else {\n    debug('creating Readable stream from \"data:\" URI buffer');\n    var buf = dataUriToBuffer(uri, opts);\n    var rs = new Readable();\n    rs._read = read(buf);\n    buf = null;\n    rs.hash = hash;\n    fn(null, rs);\n  }\n}\n\n/**\n * Function that returns a Readable `_read` function implementation.\n *\n * @api private\n */\n\nfunction read(buf) {\n  return function (n) {\n    this.push(buf);\n    this.push(null);\n    buf = null;\n  };\n}","map":{"version":3,"names":["crypto","require","Readable","dataUriToBuffer","NotModifiedError","debug","module","exports","get","parsed","opts","fn","uri","href","cache","shasum","createHash","update","hash","digest","buf","rs","_read","read","n","push"],"sources":["/Users/sathyamurthyt/Documents/Ai-forms/form-wizard/node_modules/get-uri/data.js"],"sourcesContent":["\n/**\n * Module dependencies.\n */\n\nvar crypto = require('crypto');\nvar Readable = require('readable-stream');;\nvar dataUriToBuffer = require('data-uri-to-buffer');\nvar NotModifiedError = require('./notmodified');\nvar debug = require('debug')('get-uri:data');\n\n/**\n * Module exports.\n */\n\nmodule.exports = get;\n\n/**\n * Returns a Readable stream from a \"data:\" URI.\n *\n * @api protected\n */\n\nfunction get (parsed, opts, fn) {\n  var uri = parsed.href;\n  var cache = opts.cache;\n\n  // need to create a SHA1 hash of the URI string, for cacheability checks\n  // in future `getUri()` calls with the same data URI passed in.\n  var shasum = crypto.createHash('sha1');\n  shasum.update(uri);\n  var hash = shasum.digest('hex');\n  debug('generated SHA1 hash for \"data:\" URI: %o', hash);\n\n  // check if the cache is the same \"data:\" URI that was previously passed in.\n  if (cache && cache.hash == hash) {\n    debug('got matching cache SHA1 hash: %o', hash);\n    fn(new NotModifiedError());\n  } else {\n    debug('creating Readable stream from \"data:\" URI buffer');\n    var buf = dataUriToBuffer(uri, opts);\n    var rs = new Readable();\n    rs._read = read(buf);\n    buf = null;\n    rs.hash = hash;\n    fn(null, rs);\n  }\n}\n\n/**\n * Function that returns a Readable `_read` function implementation.\n *\n * @api private\n */\n\nfunction read (buf) {\n  return function (n) {\n    this.push(buf);\n    this.push(null);\n    buf = null;\n  };\n}\n"],"mappings":"AACA;AACA;AACA;;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC9B,IAAIC,QAAQ,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAAC;AAC1C,IAAIE,eAAe,GAAGF,OAAO,CAAC,oBAAoB,CAAC;AACnD,IAAIG,gBAAgB,GAAGH,OAAO,CAAC,eAAe,CAAC;AAC/C,IAAII,KAAK,GAAGJ,OAAO,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC;;AAE5C;AACA;AACA;;AAEAK,MAAM,CAACC,OAAO,GAAGC,GAAG;;AAEpB;AACA;AACA;AACA;AACA;;AAEA,SAASA,GAAGA,CAAEC,MAAM,EAAEC,IAAI,EAAEC,EAAE,EAAE;EAC9B,IAAIC,GAAG,GAAGH,MAAM,CAACI,IAAI;EACrB,IAAIC,KAAK,GAAGJ,IAAI,CAACI,KAAK;;EAEtB;EACA;EACA,IAAIC,MAAM,GAAGf,MAAM,CAACgB,UAAU,CAAC,MAAM,CAAC;EACtCD,MAAM,CAACE,MAAM,CAACL,GAAG,CAAC;EAClB,IAAIM,IAAI,GAAGH,MAAM,CAACI,MAAM,CAAC,KAAK,CAAC;EAC/Bd,KAAK,CAAC,yCAAyC,EAAEa,IAAI,CAAC;;EAEtD;EACA,IAAIJ,KAAK,IAAIA,KAAK,CAACI,IAAI,IAAIA,IAAI,EAAE;IAC/Bb,KAAK,CAAC,kCAAkC,EAAEa,IAAI,CAAC;IAC/CP,EAAE,CAAC,IAAIP,gBAAgB,CAAC,CAAC,CAAC;EAC5B,CAAC,MAAM;IACLC,KAAK,CAAC,kDAAkD,CAAC;IACzD,IAAIe,GAAG,GAAGjB,eAAe,CAACS,GAAG,EAAEF,IAAI,CAAC;IACpC,IAAIW,EAAE,GAAG,IAAInB,QAAQ,CAAC,CAAC;IACvBmB,EAAE,CAACC,KAAK,GAAGC,IAAI,CAACH,GAAG,CAAC;IACpBA,GAAG,GAAG,IAAI;IACVC,EAAE,CAACH,IAAI,GAAGA,IAAI;IACdP,EAAE,CAAC,IAAI,EAAEU,EAAE,CAAC;EACd;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA,SAASE,IAAIA,CAAEH,GAAG,EAAE;EAClB,OAAO,UAAUI,CAAC,EAAE;IAClB,IAAI,CAACC,IAAI,CAACL,GAAG,CAAC;IACd,IAAI,CAACK,IAAI,CAAC,IAAI,CAAC;IACfL,GAAG,GAAG,IAAI;EACZ,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}