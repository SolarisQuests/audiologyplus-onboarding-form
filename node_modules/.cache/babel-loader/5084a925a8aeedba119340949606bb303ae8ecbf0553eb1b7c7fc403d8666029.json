{"ast":null,"code":"const {\n  Number: NumberT\n} = require('./Number');\nconst utils = require('./utils');\nclass StringT {\n  constructor(length, encoding = 'ascii') {\n    this.length = length;\n    this.encoding = encoding;\n  }\n  decode(stream, parent) {\n    let length, pos;\n    if (this.length != null) {\n      length = utils.resolveLength(this.length, stream, parent);\n    } else {\n      let buffer;\n      ({\n        buffer,\n        length,\n        pos\n      } = stream);\n      while (pos < length && buffer[pos] !== 0x00) {\n        ++pos;\n      }\n      length = pos - stream.pos;\n    }\n    let {\n      encoding\n    } = this;\n    if (typeof encoding === 'function') {\n      encoding = encoding.call(parent, parent) || 'ascii';\n    }\n    const string = stream.readString(length, encoding);\n    if (this.length == null && stream.pos < stream.length) {\n      stream.pos++;\n    }\n    return string;\n  }\n  size(val, parent) {\n    // Use the defined value if no value was given\n    if (!val) {\n      return utils.resolveLength(this.length, null, parent);\n    }\n    let {\n      encoding\n    } = this;\n    if (typeof encoding === 'function') {\n      encoding = encoding.call(parent != null ? parent.val : undefined, parent != null ? parent.val : undefined) || 'ascii';\n    }\n    if (encoding === 'utf16be') {\n      encoding = 'utf16le';\n    }\n    let size = Buffer.byteLength(val, encoding);\n    if (this.length instanceof NumberT) {\n      size += this.length.size();\n    }\n    if (this.length == null) {\n      size++;\n    }\n    return size;\n  }\n  encode(stream, val, parent) {\n    let {\n      encoding\n    } = this;\n    if (typeof encoding === 'function') {\n      encoding = encoding.call(parent != null ? parent.val : undefined, parent != null ? parent.val : undefined) || 'ascii';\n    }\n    if (this.length instanceof NumberT) {\n      this.length.encode(stream, Buffer.byteLength(val, encoding));\n    }\n    stream.writeString(val, encoding);\n    if (this.length == null) {\n      return stream.writeUInt8(0x00);\n    }\n  }\n}\nmodule.exports = StringT;","map":{"version":3,"names":["Number","NumberT","require","utils","StringT","constructor","length","encoding","decode","stream","parent","pos","resolveLength","buffer","call","string","readString","size","val","undefined","Buffer","byteLength","encode","writeString","writeUInt8","module","exports"],"sources":["/Users/sathyamurthyt/Documents/Ai-forms/form-wizard/node_modules/pdfkit/node_modules/restructure/src/String.js"],"sourcesContent":["const {Number:NumberT} = require('./Number');\nconst utils = require('./utils');\n\nclass StringT {\n  constructor(length, encoding = 'ascii') {\n    this.length = length;\n    this.encoding = encoding;\n  }\n\n  decode(stream, parent) {\n    let length, pos;\n\n    if (this.length != null) {\n      length = utils.resolveLength(this.length, stream, parent);\n    } else {\n      let buffer;\n      ({buffer, length, pos} = stream);\n\n      while ((pos < length) && (buffer[pos] !== 0x00)) {\n        ++pos;\n      }\n\n      length = pos - stream.pos;\n    }\n\n    let { encoding } = this;\n    if (typeof encoding === 'function') {\n      encoding = encoding.call(parent, parent) || 'ascii';\n    }\n\n    const string = stream.readString(length, encoding);\n\n    if ((this.length == null) && (stream.pos < stream.length)) {\n      stream.pos++;\n    }\n\n    return string;\n  }\n\n  size(val, parent) {\n    // Use the defined value if no value was given\n    if (!val) {\n      return utils.resolveLength(this.length, null, parent);\n    }\n\n    let { encoding } = this;\n    if (typeof encoding === 'function') {\n      encoding = encoding.call(parent != null ? parent.val : undefined, parent != null ? parent.val : undefined) || 'ascii';\n    }\n\n    if (encoding === 'utf16be') {\n      encoding = 'utf16le';\n    }\n\n    let size = Buffer.byteLength(val, encoding);\n    if (this.length instanceof NumberT) {\n      size += this.length.size();\n    }\n\n    if ((this.length == null)) {\n      size++;\n    }\n\n    return size;\n  }\n\n  encode(stream, val, parent) {\n    let { encoding } = this;\n    if (typeof encoding === 'function') {\n      encoding = encoding.call(parent != null ? parent.val : undefined, parent != null ? parent.val : undefined) || 'ascii';\n    }\n\n    if (this.length instanceof NumberT) {\n      this.length.encode(stream, Buffer.byteLength(val, encoding));\n    }\n\n    stream.writeString(val, encoding);\n\n    if ((this.length == null)) {\n      return stream.writeUInt8(0x00);\n    }\n  }\n}\n\nmodule.exports = StringT;\n"],"mappings":"AAAA,MAAM;EAACA,MAAM,EAACC;AAAO,CAAC,GAAGC,OAAO,CAAC,UAAU,CAAC;AAC5C,MAAMC,KAAK,GAAGD,OAAO,CAAC,SAAS,CAAC;AAEhC,MAAME,OAAO,CAAC;EACZC,WAAWA,CAACC,MAAM,EAAEC,QAAQ,GAAG,OAAO,EAAE;IACtC,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;EAC1B;EAEAC,MAAMA,CAACC,MAAM,EAAEC,MAAM,EAAE;IACrB,IAAIJ,MAAM,EAAEK,GAAG;IAEf,IAAI,IAAI,CAACL,MAAM,IAAI,IAAI,EAAE;MACvBA,MAAM,GAAGH,KAAK,CAACS,aAAa,CAAC,IAAI,CAACN,MAAM,EAAEG,MAAM,EAAEC,MAAM,CAAC;IAC3D,CAAC,MAAM;MACL,IAAIG,MAAM;MACV,CAAC;QAACA,MAAM;QAAEP,MAAM;QAAEK;MAAG,CAAC,GAAGF,MAAM;MAE/B,OAAQE,GAAG,GAAGL,MAAM,IAAMO,MAAM,CAACF,GAAG,CAAC,KAAK,IAAK,EAAE;QAC/C,EAAEA,GAAG;MACP;MAEAL,MAAM,GAAGK,GAAG,GAAGF,MAAM,CAACE,GAAG;IAC3B;IAEA,IAAI;MAAEJ;IAAS,CAAC,GAAG,IAAI;IACvB,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClCA,QAAQ,GAAGA,QAAQ,CAACO,IAAI,CAACJ,MAAM,EAAEA,MAAM,CAAC,IAAI,OAAO;IACrD;IAEA,MAAMK,MAAM,GAAGN,MAAM,CAACO,UAAU,CAACV,MAAM,EAAEC,QAAQ,CAAC;IAElD,IAAK,IAAI,CAACD,MAAM,IAAI,IAAI,IAAMG,MAAM,CAACE,GAAG,GAAGF,MAAM,CAACH,MAAO,EAAE;MACzDG,MAAM,CAACE,GAAG,EAAE;IACd;IAEA,OAAOI,MAAM;EACf;EAEAE,IAAIA,CAACC,GAAG,EAAER,MAAM,EAAE;IAChB;IACA,IAAI,CAACQ,GAAG,EAAE;MACR,OAAOf,KAAK,CAACS,aAAa,CAAC,IAAI,CAACN,MAAM,EAAE,IAAI,EAAEI,MAAM,CAAC;IACvD;IAEA,IAAI;MAAEH;IAAS,CAAC,GAAG,IAAI;IACvB,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClCA,QAAQ,GAAGA,QAAQ,CAACO,IAAI,CAACJ,MAAM,IAAI,IAAI,GAAGA,MAAM,CAACQ,GAAG,GAAGC,SAAS,EAAET,MAAM,IAAI,IAAI,GAAGA,MAAM,CAACQ,GAAG,GAAGC,SAAS,CAAC,IAAI,OAAO;IACvH;IAEA,IAAIZ,QAAQ,KAAK,SAAS,EAAE;MAC1BA,QAAQ,GAAG,SAAS;IACtB;IAEA,IAAIU,IAAI,GAAGG,MAAM,CAACC,UAAU,CAACH,GAAG,EAAEX,QAAQ,CAAC;IAC3C,IAAI,IAAI,CAACD,MAAM,YAAYL,OAAO,EAAE;MAClCgB,IAAI,IAAI,IAAI,CAACX,MAAM,CAACW,IAAI,CAAC,CAAC;IAC5B;IAEA,IAAK,IAAI,CAACX,MAAM,IAAI,IAAI,EAAG;MACzBW,IAAI,EAAE;IACR;IAEA,OAAOA,IAAI;EACb;EAEAK,MAAMA,CAACb,MAAM,EAAES,GAAG,EAAER,MAAM,EAAE;IAC1B,IAAI;MAAEH;IAAS,CAAC,GAAG,IAAI;IACvB,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClCA,QAAQ,GAAGA,QAAQ,CAACO,IAAI,CAACJ,MAAM,IAAI,IAAI,GAAGA,MAAM,CAACQ,GAAG,GAAGC,SAAS,EAAET,MAAM,IAAI,IAAI,GAAGA,MAAM,CAACQ,GAAG,GAAGC,SAAS,CAAC,IAAI,OAAO;IACvH;IAEA,IAAI,IAAI,CAACb,MAAM,YAAYL,OAAO,EAAE;MAClC,IAAI,CAACK,MAAM,CAACgB,MAAM,CAACb,MAAM,EAAEW,MAAM,CAACC,UAAU,CAACH,GAAG,EAAEX,QAAQ,CAAC,CAAC;IAC9D;IAEAE,MAAM,CAACc,WAAW,CAACL,GAAG,EAAEX,QAAQ,CAAC;IAEjC,IAAK,IAAI,CAACD,MAAM,IAAI,IAAI,EAAG;MACzB,OAAOG,MAAM,CAACe,UAAU,CAAC,IAAI,CAAC;IAChC;EACF;AACF;AAEAC,MAAM,CAACC,OAAO,GAAGtB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}